---
layout:     post
title:      ETHæºç é˜…è¯»æŒ‡å—ï¼šä»å…‹éš†åˆ°è°ƒè¯•çš„å®Œæ•´è¿›é˜¶è·¯çº¿
date:       2025-09-05
header-img: img/post-bg-desk.jpg
catalog: true
---

ä»¥å¤ªåŠï¼ˆEthereum, ETHï¼‰çš„é­…åŠ›ä¸ä»…åœ¨äºâ€œå»ä¸­å¿ƒåŒ–â€ï¼Œæ›´åœ¨äº **å¼€æº**ã€‚å¦‚æœä½ æƒ³çœŸæ­£è¯»æ‡‚ ETH è¿è¡ŒåŸç†ã€ä¼˜åŒ–æ™ºèƒ½åˆçº¦ï¼Œæˆ–å‚ä¸åº•å±‚åè®®å‡çº§ï¼Œé¦–è¦ä»»åŠ¡å°±æ˜¯ **çœ‹æºç ã€çœ‹æºç ã€çœ‹æºç **ã€‚è¿™ç¯‡æŒ‡å—å›´ç»•â€œè·å–æºç ã€ç†è§£æ ¸å¿ƒæ¨¡å—ã€è°ƒè¯•æ™ºèƒ½åˆçº¦ã€åˆ†æé“¾ä¸Šæ•°æ®â€å››å¤§å…³é”®è¯ï¼Œå¸®ä½ æ‰“å‡ºä¸€å¥—é«˜æ•ˆã€ç³»ç»Ÿçš„å­¦ä¹ ç»„åˆæ‹³ã€‚

---

## ä¸€ã€å‡†å¤‡ç¯å¢ƒï¼šç¬¬ä¸€æ­¥æ€»æ˜¯å…‹éš†ä»“åº“  
### 1. é€‰æ‹©ä»“åº“  
| é¡¹ç›®å | å†…å®¹ | GitHub |
| --- | --- | https://github.com/ethereum/go-ethereum |
| `go-ethereum` | å®˜æ–¹ Go è¯­è¨€å®¢æˆ·ç«¯ï¼ˆGethï¼‰ |  
| solidity | Solidity ç¼–è¯‘å™¨æºç  | https://github.com/ethereum/solidity |
| remix-project | Remix IDE å…¨éƒ¨å‰ç«¯åç«¯ | https://github.com/ethereum/remix-project |

ç¤ºä¾‹ï¼šç”¨ Geth åšæºç ç ”ç©¶æ˜¯æœ€å¸¸è§çš„å…¥é—¨è·¯çº¿ï¼Œå‘½ä»¤ä»…ä¸€å¥ï¼š
```bash
git clone https://github.com/ethereum/go-ethereum.git
go mod tidy
make geth
```
ğŸ“Œ **macOS æ³¨æ„ LLVM**ï¼šè‹¥ç³»ç»Ÿæç¤ºæ‰¾ä¸åˆ° `clang`ï¼Œæ‰§è¡Œ `xcode-select --install` å³å¯è§£å†³ã€‚  

### 2. å¿«é€Ÿå¯åŠ¨  
å®‰è£…å®Œæ¯•ï¼Œæœ¬åœ°å¯åŠ¨ç§é“¾å¼€å§‹è°ƒè¯•ï¼š
```bash
geth --dev --http --http.api personal,eth,web3,net --allow-insecure-unlock
```
æµè§ˆå™¨è®¿é—® `http://127.0.0.1:8545`ï¼Œå³å¯çœ‹åˆ° JSON RPC ç«¯å£è¿”å›åŒºå—å·ï¼ŒéªŒè¯ç¯å¢ƒæˆåŠŸã€‚

---

## äºŒã€é€šè¯»æºç ï¼šæŒ‰æ¨¡å—åˆ†å±‚é˜…è¯»  
åˆ«æ€¥ç€â€œå›«å›µåæ£â€ï¼Œä»¥å¤ªåŠæºç åºå¤§ï¼Œæ¨è **å…ˆæ¡†æ¶ï¼Œåç»†èŠ‚** çš„é˜…è¯»é¡ºåºï¼š

### 1. å…±è¯†æœºåˆ¶ï¼ˆconsensusï¼‰  
- `/consensus/beacon`ï¼šåˆå¹¶åçš„ PoS é€»è¾‘ã€‚  
- å…³é”®è¯ï¼š`forkchoice`, `finalized`, `justified`â€”â€”æ­£ç¡®ç†è§£å°±èƒ½çœ‹æ‡‚åŒºå—å¦‚ä½•ä»**æè®®â†’æŠ•ç¥¨â†’æœ€ç»ˆæ•²å®š**ã€‚  

### 2. ç½‘ç»œå±‚ï¼ˆp2pï¼‰  
- `/p2p/discover`ï¼šèŠ‚ç‚¹å‘ç°ã€Kademlia è¡¨ç»´æŠ¤ã€‚  
- `/p2p/eth`ï¼šäº¤æ˜“å¹¿æ’­ã€åŒæ­¥åè®®çš„å®ç°ç»†èŠ‚ã€‚  

### 3. è´¦æˆ·ä¸çŠ¶æ€æ ‘ï¼ˆtrieï¼‰  
- `/trie`ï¼šMPTï¼ˆMerkle Patricia Trieï¼‰æ“ä½œï¼Œå†³å®šä¸–ç•ŒçŠ¶æ€æ€ä¹ˆè¢«â€œå‹æ‰â€æˆ 32 å­—èŠ‚ã€‚  
- `/core/state`ï¼šStateDB æä¾›ä¸€å±‚ KV ç¼“å­˜ï¼Œé¿å…é¢‘ç¹è®¿é—®ç£ç›˜ã€‚  

### 4. EVM è¿è¡Œæ—¶  
- `/core/vm`ï¼šOPCODE å¤„ç†ç®¡é“ï¼Œå…ˆè¯» `interpreter.go` å†çœ‹ `instructions.go`ï¼Œé«˜é˜¶ä¼˜åŒ–ç§˜è¯€éƒ½åœ¨è¿™é‡Œã€‚  

æ¯ä¸€å±‚åŠ è½½åï¼Œ**å…³æ³¨æ¥å£è€Œéå®ç°**ï¼Œå³ç”¨â€œIMDGâ€ï¼ˆInputâ€“Moduleâ€“Dataâ€“Goalï¼‰æ¨¡å‹æ ‡æ³¨ä»£ç ï¼š
- Inputï¼šè¯¥æ¨¡å—çš„è¾“å…¥å‚æ•°ï¼›  
- Moduleï¼šå…³é”®æ–‡ä»¶è·¯å¾„ï¼›  
- Dataï¼šæ ¸å¿ƒæ•°æ®ç»“æ„ï¼›  
- Goalï¼šè¯»å®Œè¦è¾¾åˆ°çš„ç†è§£ç›®æ ‡ã€‚  

ğŸ‘‰ [æ·±å…¥å®æˆ˜ï¼šGeth ä»£ç é˜…è¯»é€ŸæŸ¥è¡¨ï¼ŒäºŒååˆ†é’Ÿæå®š mempool äº‹åŠ¡æµå‘](https://okxdog.com/)

---

## ä¸‰ã€è°ƒè¯•æ™ºèƒ½åˆçº¦ï¼šRemix + Geth åŒæ“ç­–ç•¥  
### 1. Remix IDE ä¸€é”®éƒ¨ç½²  
æ‰“å¼€ [remix.ethereum.org](https://remix.ethereum.org)ï¼Œç¼–å†™å®Œ `.sol` æ–‡ä»¶åï¼Œåœ¨å·¦ä¾§â€œDeploy & Runâ€é¢æ¿é€‰æ‹©ï¼š
- **Environment** â†’ `Web3 Provider` â†’ `http://localhost:8545`  
å³å¯æŠŠ Remix ä¸æœ¬åœ°çš„ Geth Dev èŠ‚ç‚¹æ‰“é€šï¼Œæ¨¡æ‹ŸçœŸå®ç¯å¢ƒã€‚  

### 2. Truffle è‡ªåŠ¨åŒ–æµæ°´çº¿  
å¦‚æœä½ éœ€è¦æµ‹è¯•å¤šåˆçº¦é—´äº¤äº’ï¼Œç”¨ Truffle æœ€çœå¿ƒï¼š
```bash
mkdir token-dapp && cd token-dapp
truffle unbox
truffle compile && truffle migrate --network development
```
Truffle ä¼šåœ¨ `build/contracts` ç”Ÿæˆ ABI & Bytecodeï¼Œé…åˆ Geth ç§é“¾å³å¯å®Œæ•´è°ƒè¯•ã€‚

---

## å››ã€é“¾ä¸Šæ•°æ®å¯è§†åŒ–ï¼šEtherscan + BigQuery ç»„åˆæ‹³  
### 1. Etherscan å¿«é€Ÿæ£€ç´¢  
- è¾“å…¥ `to=0x...` æˆ– `tx=0x...` ç«‹å³æ‹¿åˆ°äº¤æ˜“å›æ‰§ã€‚  
- `Internal Txns` é¡µé¢èƒ½çœ‹è·¨åˆçº¦è°ƒç”¨æ ‘ã€‚  

### 2. BigQuery æ·±åº¦åˆ†æ  
Google Cloud å·²æ¯æ—¥åŒæ­¥å…¨é“¾æ•°æ®ï¼š
```sql
SELECT
  from_address,
  to_address,
  sum(value)/1e18 AS eth_sent
FROM `bigquery-public-data.crypto_ethereum.transactions`
WHERE block_timestamp >= "2025-01-01"
GROUP BY 1,2
ORDER BY eth_sent DESC
LIMIT 10;
```
é€šè¿‡ SQL çº§åˆ†æï¼Œ**gas çƒ­ç‚¹åœ°å€ã€USDT å·¨é²¸è¡Œä¸º**ä¸€ç›®äº†ç„¶ã€‚  

ğŸ‘‰ [ä»¥å¤ªåŠæ•°æ®åˆ†æå®æˆ˜ï¼šä¸‰æ­¥ SQL æ‰¾å‡ºä»Šæ—¥æœ€å¤§å¥—åˆ©è€…](https://okxdog.com/)

---

## äº”ã€Solidity è¿›é˜¶ï¼šä¸¤æ‰‹æŠ“è¯­æ³•ä¸æœ€ä½³å®è·µ  
### 1. ä¹æ¡å¡å£³è¯­æ³•é€Ÿè®°  
- äº‹ä»¶ï¼š`event Transfer(address indexed from, address indexed to, uint value);`  
- ç»“æ„ä½“ï¼š`struct Order {uint id; address buyer; uint price;}`  
- é‡å…¥é”ï¼š`modifier reentrancyGuard() {require(!locked, "REENTRANCY"); locked = true; _; locked = false;}`  

### 2. å®‰å…¨æ¸…å•ï¼ˆOWASP Top10 for Solidityï¼‰  
1. æ•´æ•°æº¢å‡º â†’ ç»Ÿä¸€ä½¿ç”¨ OpenZeppelin SafeMath  
2. å¯è§æ€§ â†’ é¿å…é—æ¼ `private`  
3. Gas æ— é™å¾ªç¯ â†’ åŠ¨æ€æ•°ç»„ \(O(n)\) æ¢ç®— gas å†ä¸Šçº¿  

---

## å…­ã€å¸¸è§é—®é¢˜ & å¯¹ç­”ï¼ˆFAQï¼‰

**Q1. çº¯æ–°æ‰‹ï¼Œæ²¡æœ‰ Go åŸºç¡€ï¼Œèƒ½çœ‹æ‡‚æºç å—ï¼Ÿ**  
A. å…ˆè¯» `/docs` æ–‡ä»¶å¤¹çš„ `README.md`ï¼Œå†è·Ÿç€**æ³¨é‡Š**èµ°ï¼›é‡åˆ°è¯­è¨€ä¸ç†Ÿçš„éƒ¨åˆ†ï¼Œå¯å¯¹ç…§å®˜æ–¹æ–‡æ¡£ `go.dev/doc/tutorial` æ¯å¤© 30 åˆ†é’Ÿï¼Œä¸€å‘¨å†…å°±èƒ½è·‘é€šä¸»æµç¨‹ã€‚

**Q2. Remix éƒ¨ç½²æç¤º â€œEIP-1559 not activated in devâ€ æ€ä¹ˆåŠï¼Ÿ**  
A. Geth `--dev` é»˜è®¤æœªå¸¦ä¼¦æ•¦å‡çº§ï¼Œå¯åœ¨åˆ›ä¸–æ–‡ä»¶ä¸­åŠ å…¥ `"londonBlock":0`ï¼Œå† `geth init` ç§æœ‰é“¾å³å¯è§£å†³ã€‚

**Q3. å¦‚ä½•åˆ¤æ–­äº¤æ˜“æ˜¯å¦è¢« revertï¼Ÿ**  
A. æŸ¥çœ‹è¿”å›çš„ `transactionReceipt.status`ï¼Œè‹¥ä¸º `0x0`ï¼ˆsolidity ä¸­ falseï¼‰ï¼Œå³ revertï¼›åŒæ—¶ç»“åˆ `revertReason` å­—æ®µæº¯æºã€‚

**Q4. æºç å‡ºç°å¤§é‡ `Infura`, `Alchemy` å…³é”®å­—ï¼Œæ˜¯å¦éœ€è¦ä»˜è´¹èŠ‚ç‚¹ï¼Ÿ**  
A. åªåœ¨æœ¬æœº **è°ƒè¯•é˜¶æ®µå¯çœç•¥**ï¼Œç›´æ¥ä½¿ç”¨æœ¬åœ° Gethï¼›ç”Ÿäº§ç¯å¢ƒæ›¿æ¢æˆè‡ªæœ‰èŠ‚ç‚¹å¯é¿å…ç¬¬ä¸‰æ–¹é™æµã€‚

**Q5. Solidity ç¼–è¯‘å™¨ç‰ˆæœ¬å‡çº§ä¼šå¼•å…¥ç ´åæ€§å˜æ›´å—ï¼Ÿ**  
A. é‡å¤§ç‰ˆæœ¬ä¸Šç§»è‡³ `0.9.x` ä¹‹å‰ï¼Œéƒ½ä¼šé™„å¸¦ **breaking changes** æ¸…å•ï¼Œå…»æˆåœ¨ `pragma solidity ^0.x.y` å‰æŸ¥é˜… changelog çš„ä¹ æƒ¯å³å¯ã€‚

---